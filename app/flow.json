{
  "version": "1.0",
  "flow_name": "flash_hotel_onboarding",

  "phases": [
    { "id": "phase_1", "order": 1, "label": "Core setup", "description": "Warehouse, hotel basics, registration" },
    { "id": "phase_2", "order": 2, "label": "Addresses", "description": "Billing and shipping details" },
    { "id": "phase_3", "order": 3, "label": "Commercials", "description": "Contacts, agreement, pricing" },
    { "id": "phase_4", "order": 4, "label": "Access & inventory", "description": "Customer user and inventory setup" }
  ],

  "questions": [
    {
      "id": "warehouse",
      "order": 1,
      "phase_id": "phase_1",
      "label": "Select warehouse",
      "field": {
        "type": "enum",
        "options": ["YPR", "JPN"]
      },
      "required": true
    },

    {
      "id": "hotel_basic_details",
      "order": 2,
      "phase_id": "phase_1",
      "label": "Hotel basic details",
      "fields": {
        "hotel_name": { "type": "text", "required": true },
        "contact_phone": { "type": "text", "required": true },
        "contact_email": { "type": "email", "required": true },
        "status": {
          "type": "enum",
          "options": ["Active", "Inactive"],
          "required": true
        },
        "customer_type": {
          "type": "enum",
          "options": ["HOTEL", "HOSPITAL", "RESTAURANT", "CORPORATE", "OTHER"],
          "required": true
        }
      }
    },

    {
      "id": "registration_details",
      "order": 3,
      "phase_id": "phase_1",
      "label": "Registration details",
      "fields": {
        "gstin_number": { "type": "text", "required": true },
        "pan_number": { "type": "text", "required": true }
      }
    },

    {
      "id": "billing_address",
      "order": 4,
      "phase_id": "phase_2",
      "label": "Billing address",
      "fields": {
        "address_line_1": { "type": "text", "required": true },
        "address_line_2": { "type": "text" },
        "city": { "type": "text", "required": true },
        "state": { "type": "text", "required": true },
        "zip_code": { "type": "text", "required": true },
        "country": { "type": "text", "default": "India" }
      }
    },

    {
      "id": "shipping_address",
      "order": 5,
      "phase_id": "phase_2",
      "label": "Shipping address",
      "fields": {
        "address_line_1": { "type": "text", "required": true },
        "address_line_2": { "type": "text" },
        "city": { "type": "text", "required": true },
        "state": { "type": "text", "required": true },
        "zip_code": { "type": "text", "required": true },
        "country": { "type": "text", "default": "India" }
      }
    },

    {
      "id": "hotel_contact_persons",
      "order": 6,
      "phase_id": "phase_3",
      "label": "Hotel contact persons",
      "repeatable": true,
      "fields": {
        "name": { "type": "text", "required": true },
        "phone": { "type": "text", "required": true },
        "email": { "type": "email", "required": true }
      }
    },

    {
      "id": "agreement_details",
      "order": 7,
      "phase_id": "phase_3",
      "label": "Agreement details",
      "fields": {
        "agreement_type": {
          "type": "enum",
          "options": ["Rental Laundry", "Laundry"],
          "required": true
        },
        "service_start_date": { "type": "date", "required": true },
        "service_end_date": { "type": "date", "required": true },
        "status": {
          "type": "enum",
          "options": ["Active", "Inactive"],
          "required": true
        },
        "total_rooms": { "type": "number", "required": true },
        "occupancy_rate": { "type": "number", "default": 0 },
        "deposit_amount": { "type": "number", "required": true },
        "credit_days": {
          "type": "enum",
          "options": [15, 30],
          "required": true
        },
        "linen_delivery_days": {
          "type": "enum",
          "options": ["Daily", "Alternate"],
          "required": true
        },
        "service_frequency": { "type": "text", "required": true },
        "billing_cycle": {
          "type": "enum",
          "options": [15, 30],
          "required": true
        },
        "billing_start_day": { "type": "number", "default": 1 },
        "billing_end_day": { "type": "number", "default": 15 },
        "billing_type": {
          "type": "enum",
          "options": ["Fixed"],
          "required": true
        }
      }
    },

    {
      "id": "price_list",
      "order": 8,
      "phase_id": "phase_3",
      "label": "Price list configuration",
      "repeatable": true,
      "fields": {
        "product_item": { "type": "text", "required": true },
        "quantity": { "type": "number", "required": true },
        "price": { "type": "number", "required": true },
        "service_type": {
          "type": "enum",
          "options": ["Washing", "Rental"],
          "required": true
        }
      }
    },

    {
      "id": "customer_user",
      "order": 9,
      "phase_id": "phase_4",
      "label": "Customer user creation",
      "fields": {
        "customer_name": { "type": "text", "required": true },
        "email": { "type": "email", "required": true },
        "phone": { "type": "text", "required": true },
        "password": { "type": "text", "required": true },
        "role": { "type": "text", "required": true }
      }
    },

    {
      "id": "inventory_pool",
      "order": 10,
      "phase_id": "phase_4",
      "label": "Inventory pool (optional)",
      "optional": true,
      "fields": {
        "pool_name": { "type": "text" },
        "description": { "type": "text" },
        "products": { "type": "list" }
      }
    },

    {
      "id": "inventory_reservation",
      "order": 11,
      "phase_id": "phase_4",
      "label": "Inventory reservation",
      "fields": {
        "customer_name": { "type": "text", "required": true },
        "reservation_type": {
          "type": "enum",
          "options": ["Fixed", "Flexible", "Rotational"],
          "required": true
        },
        "inventory_pool": { "type": "text", "required": true },
        "start_date": { "type": "date", "required": true },
        "end_date": { "type": "date", "required": true },
        "total_quantity": { "type": "number", "required": true },
        "quantity_with_customer": { "type": "number", "required": true },
        "quantity_with_dc": { "type": "number", "required": true }
      }
    }
  ]
}
